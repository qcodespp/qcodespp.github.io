

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>qcodespp.data.data_array &mdash; qcodes++ 0.1.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../../../../_static/qcppfavicon.svg"/>
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js?v=4c7880bb"></script>
      <script src="../../../../_static/doctools.js?v=888ff710"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="qcodespp.data.data_set" href="../data_set/index.html" />
    <link rel="prev" title="qcodespp.data" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            qcodes++
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dummy_measurements.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../more_features.html">Commonly used features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../visa.html">Instruments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../live_plot.html">Live plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../template.html">Example template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../data_analysis.html">Data loading and analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../offline_plotting.html">Offline plotting, a.k.a. InSpectra Gadget</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../measure.html">The Measure class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../advanced.html">Advanced use of Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../differences_from_qcodes.html">Comparing qcodes++ and QCoDeS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">qcodespp</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../actions/index.html">qcodespp.actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cli/index.html">qcodespp.cli</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">qcodespp.data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../instrument_drivers/index.html">qcodespp.instrument_drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../loops/index.html">qcodespp.loops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../measure/index.html">qcodespp.measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../parameters/index.html">qcodespp.parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plotting/index.html">qcodespp.plotting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../station/index.html">qcodespp.station</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html">qcodespp.utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../version/index.html">qcodespp.version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#package-contents">Package Contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">qcodes++</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">qcodespp</a></li>
          <li class="breadcrumb-item"><a href="../index.html">qcodespp.data</a></li>
      <li class="breadcrumb-item active">qcodespp.data.data_array</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/qcodespp/data/data_array/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-qcodespp.data.data_array">
<span id="qcodespp-data-data-array"></span><h1>qcodespp.data.data_array<a class="headerlink" href="#module-qcodespp.data.data_array" title="Permalink to this heading"></a></h1>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">qcodespp.data.data_array.</span></span><span class="sig-name descname"><span class="pre">DataArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snapshot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_arrays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_setpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preset_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">qcodes.utils.DelegateAttributes</span></code></p>
<p>A container for one parameter in a qcodespp DataSetPP</p>
<p>A DataArray can either be a setpoint array or a measured parameter.
If this is a measured parameter, this object doesn’t contain
the data of the setpoints it was measured at, but it references
the DataArray objects of these parameters. Those objects only have
the dimensionality at which they were set - ie the inner loop setpoint
the same dimensionality as the measured parameter, but the outer
loop setpoint(s) have lower dimensionality</p>
<p>When it’s first created, a DataArray has no dimensionality,
.nest must be called for each dimension.</p>
<p>If preset_data is provided it is used to initialize the data, and the array
can still be nested around it (making many copies of the data).
Otherwise it is an error to nest an array that already has data.</p>
<p>Once the array is initialized, a DataArray acts a lot like a numpy array,
because we delegate attributes through to the numpy array</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>parameter (Optional[Parameter]): The parameter whose values will</dt><dd><p>populate this array, if any. Will copy <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">full_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">label</span></code>, <code class="docutils literal notranslate"><span class="pre">unit</span></code>, and <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> from here unless you
provide them explicitly.</p>
</dd>
<dt>name (Optional[str]): The short name of this array.</dt><dd><p>TODO: use full_name as name, and get rid of short name</p>
</dd>
<dt>full_name (Optional[str]): The complete name of this array. If the</dt><dd><p>array is based on a parameter linked to an instrument, this is
typically ‘&lt;instrument_name&gt;_&lt;param_name&gt;’</p>
</dd>
<dt>label (Optional[str]): A description of the values in this array to</dt><dd><p>use for axis and colorbar labels on plots.</p>
</dd>
</dl>
<p>snapshot (Optional[dict]): Metadata snapshot to save with this array.</p>
<dl class="simple">
<dt>array_id (Optional[str]): A name for this array that’s unique within</dt><dd><p>its <code class="docutils literal notranslate"><span class="pre">DataSetPP</span></code>. Typically the full_name, but when the <code class="docutils literal notranslate"><span class="pre">DataSetPP</span></code>
is constructed we will append ‘_&lt;i&gt;’ (<code class="docutils literal notranslate"><span class="pre">i</span></code> is an integer starting
from 1) if necessary to differentiate arrays with the same id.
TODO: this only happens for arrays provided to the DataSetPP
constructor, not those added with add_array. Fix this!
Also, do we really need array_id <em>and</em> full_name (let alone name
but I’ve already said we should remove this)?</p>
</dd>
<dt>set_arrays (Optional[Tuple[DataArray]]): If this array is being</dt><dd><p>created with shape already, you can provide one setpoint array
per dimension. The first should have one dimension, the second
two dimensions, etc.</p>
</dd>
<dt>shape (Optional[Tuple[int]]): The shape (as in numpy) of the array.</dt><dd><p>Will be prepended with new dimensions by any calls to <code class="docutils literal notranslate"><span class="pre">nest</span></code>.</p>
</dd>
<dt>action_indices (Optional[Tuple[int]]): If used within a <code class="docutils literal notranslate"><span class="pre">Loop</span></code>,</dt><dd><p>these are the indices at each level of nesting within the
<code class="docutils literal notranslate"><span class="pre">Loop</span></code> of the loop action that’s populating this array.
TODO: this shouldn’t be in DataArray at all, the loop should
handle converting this to array_id internally (maybe it
already does?)</p>
</dd>
</dl>
<p>unit (Optional[str]): The unit of the values stored in this array.</p>
<p>units (Optional[str]): DEPRECATED, redirects to <code class="docutils literal notranslate"><span class="pre">unit</span></code>.</p>
<dl class="simple">
<dt>is_setpoint (bool): True if this is a setpoint array, False if it</dt><dd><p>is measured. Default False.</p>
</dd>
<dt>preset_data (Optional[Union[ndarray, sequence]]): Contents of the</dt><dd><p>array, if already known (for example if this is a setpoint
array). <code class="docutils literal notranslate"><span class="pre">shape</span></code> will be inferred from this array instead of
from the <code class="docutils literal notranslate"><span class="pre">shape</span></code> argument.</p>
</dd>
<dt>data_type (Optional[Type] default = float): numpy array entries</dt><dd><p>must be of the same type. Float covers most instances, otherwise
string is best.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.SNAP_ATTRS">
<span class="sig-name descname"><span class="pre">SNAP_ATTRS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('array_id',</span> <span class="pre">'name',</span> <span class="pre">'shape',</span> <span class="pre">'unit',</span> <span class="pre">'label',</span> <span class="pre">'action_indices',</span> <span class="pre">'is_setpoint',</span> <span class="pre">'data_type')</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.SNAP_ATTRS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.COPY_ATTRS_FROM_INPUT">
<span class="sig-name descname"><span class="pre">COPY_ATTRS_FROM_INPUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('name',</span> <span class="pre">'label',</span> <span class="pre">'unit',</span> <span class="pre">'data_type')</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.COPY_ATTRS_FROM_INPUT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.SNAP_OMIT_KEYS">
<span class="sig-name descname"><span class="pre">SNAP_OMIT_KEYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('ts',</span> <span class="pre">'value',</span> <span class="pre">'__class__',</span> <span class="pre">'set_arrays',</span> <span class="pre">'shape',</span> <span class="pre">'array_id',</span> <span class="pre">'action_indices')</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.SNAP_OMIT_KEYS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.full_name">
<span class="sig-name descname"><span class="pre">full_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.full_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.label" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.unit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.array_id">
<span class="sig-name descname"><span class="pre">array_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.array_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.is_setpoint">
<span class="sig-name descname"><span class="pre">is_setpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.is_setpoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.action_indices">
<span class="sig-name descname"><span class="pre">action_indices</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.action_indices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.set_arrays">
<span class="sig-name descname"><span class="pre">set_arrays</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.set_arrays" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.data_type">
<span class="sig-name descname"><span class="pre">data_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.data_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.last_saved_index">
<span class="sig-name descname"><span class="pre">last_saved_index</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.last_saved_index" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.modified_range">
<span class="sig-name descname"><span class="pre">modified_range</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.modified_range" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.ndarray">
<span class="sig-name descname"><span class="pre">ndarray</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.ndarray" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.data_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_set</span></span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.data_set" title="Permalink to this definition"></a></dt>
<dd><p>The DataSetPP this array belongs to.</p>
<p>A DataArray can belong to at most one DataSetPP.
TODO: make this a weakref</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.nest">
<span class="sig-name descname"><span class="pre">nest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.nest" title="Permalink to this definition"></a></dt>
<dd><p>Nest this array inside a new outer loop.</p>
<p>You cannot call <code class="docutils literal notranslate"><span class="pre">nest</span></code> after <code class="docutils literal notranslate"><span class="pre">init_data</span></code> unless this is a
setpoint array.
TODO: is this restriction really useful? And should we maintain
a distinction between _preset and is_setpoint, or can wejust use
is_setpoint?</p>
<dl>
<dt>Args:</dt><dd><p>size (int): Length of the new loop.</p>
<dl class="simple">
<dt>action_index (Optional[int]): Within the outer loop at this</dt><dd><p>nesting level, which action does this array derive from?</p>
</dd>
<dt>set_array (Optional[DataArray]): The setpoints of the new outer</dt><dd><p>loop. If this DataArray <em>is</em> a setpoint array, you should
omit both <code class="docutils literal notranslate"><span class="pre">action_index</span></code> and <code class="docutils literal notranslate"><span class="pre">set_array</span></code>, and it will
reference itself as the inner setpoint array.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>DataArray: self, in case you want to construct the array with</dt><dd><p>chained method calls.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.init_data">
<span class="sig-name descname"><span class="pre">init_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.init_data" title="Permalink to this definition"></a></dt>
<dd><p>Create the actual numpy array to hold data.</p>
<p>The array will be sized based on either <code class="docutils literal notranslate"><span class="pre">self.shape</span></code> or
data provided here.</p>
<p>Idempotent: will do nothing if the array already exists.</p>
<p>If data is provided, this array is marked as a preset
meaning it can still be nested around this data.
TODO: per above, perhaps remove this distinction entirely?</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>data (Optional[Union[ndarray, sequence]]): If provided,</dt><dd><p>we fill the array with this data. Otherwise the new
array will be filled with NaN.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>ValueError: if <code class="docutils literal notranslate"><span class="pre">self.shape</span></code> does not match <code class="docutils literal notranslate"><span class="pre">data.shape</span></code>
ValueError: if the array was already initialized with a</p>
<blockquote>
<div><p>different shape than we’re about to create</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.clear" title="Permalink to this definition"></a></dt>
<dd><p>Fill the (already existing) data array with nan.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loop_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.__setitem__" title="Permalink to this definition"></a></dt>
<dd><p>Set data values.</p>
<p>Follows numpy syntax, allowing indices of lower dimensionality than
the array, if value makes up the extra dimension(s)</p>
<p>Also update the record of modifications to the array. If you don’t
want this overhead, you can access <code class="docutils literal notranslate"><span class="pre">self.ndarray</span></code> directly.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loop_indices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.__getitem__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.delegate_attr_objects">
<span class="sig-name descname"><span class="pre">delegate_attr_objects</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ndarray']</span></em><a class="headerlink" href="#qcodespp.data.data_array.DataArray.delegate_attr_objects" title="Permalink to this definition"></a></dt>
<dd><p>A list of names (strings) of objects
which are (or will be) attributes of <code class="docutils literal notranslate"><span class="pre">self</span></code>, whose attributes
should be passed through to <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Array length.</p>
<p>Must be explicitly delegated, because len() will look for this
attribute to already exist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.flat_index">
<span class="sig-name descname"><span class="pre">flat_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.flat_index" title="Permalink to this definition"></a></dt>
<dd><p>Generate the raveled index for the given indices.</p>
<p>This is the index you would have if the array is reshaped to 1D,
looping over the indices from inner to outer.</p>
<dl>
<dt>Args:</dt><dd><p>indices (sequence): indices of an element or slice of this array.</p>
<dl class="simple">
<dt>index_fill (sequence, optional): extra indices to use if</dt><dd><p><code class="docutils literal notranslate"><span class="pre">indices</span></code> has less dimensions than the array, ie it points
to a slice rather than a single element. Use zeros to get the
beginning of this slice, and [d - 1 for d in shape] to get the
end of the slice.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>int: the resulting flat index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.mark_saved">
<span class="sig-name descname"><span class="pre">mark_saved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last_saved_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.mark_saved" title="Permalink to this definition"></a></dt>
<dd><p>Mark certain outstanding modifications as saved.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>last_saved_index (int): The flat index of the last point</dt><dd><p>saved. If <code class="docutils literal notranslate"><span class="pre">modified_range</span></code> extends beyond this, the
data past <code class="docutils literal notranslate"><span class="pre">last_saved_index</span></code> will still be marked
modified, otherwise <code class="docutils literal notranslate"><span class="pre">modified_range</span></code> is cleared
entirely.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.clear_save">
<span class="sig-name descname"><span class="pre">clear_save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.clear_save" title="Permalink to this definition"></a></dt>
<dd><p>Make previously saved parts of this array look unsaved (modified).</p>
<p>This can be used to force overwrite or rewrite, like if we’re
moving or copying the <code class="docutils literal notranslate"><span class="pre">DataSetPP</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.get_synced_index">
<span class="sig-name descname"><span class="pre">get_synced_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.get_synced_index" title="Permalink to this definition"></a></dt>
<dd><p>Get the last index which has been synced from the server.</p>
<p>Will also initialize the array if this hasn’t happened already.
TODO: seems hacky to init_data here.</p>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>int: the last flat index which has been synced from the server,</dt><dd><p>or -1 if no data has been synced.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.get_changes">
<span class="sig-name descname"><span class="pre">get_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">synced_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.get_changes" title="Permalink to this definition"></a></dt>
<dd><p>Find changes since the last sync of this array.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>synced_index (int): The last flat index which has already</dt><dd><p>been synced.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Union[dict, None]: None if there is no new data. If there is,</dt><dd><dl class="simple">
<dt>returns a dict with keys:</dt><dd><p>start (int): the flat index of the first returned value.
stop (int): the flat index of the last returned value.
vals (List[float]): the new values</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.apply_changes">
<span class="sig-name descname"><span class="pre">apply_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.apply_changes" title="Permalink to this definition"></a></dt>
<dd><p>Insert new synced values into the array.</p>
<p>To be be called in a <code class="docutils literal notranslate"><span class="pre">PULL_FROM_SERVER</span></code> <code class="docutils literal notranslate"><span class="pre">DataSetPP</span></code> using results
returned by <code class="docutils literal notranslate"><span class="pre">get_changes</span></code> from the <code class="docutils literal notranslate"><span class="pre">DataServer</span></code>.</p>
<p>TODO: check that vals has the right length?</p>
<dl class="simple">
<dt>Args:</dt><dd><p>start (int): the flat index of the first new value.
stop (int): the flat index of the last new value.
vals (List[float]): the new values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.__repr__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.snapshot">
<span class="sig-name descname"><span class="pre">snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.snapshot" title="Permalink to this definition"></a></dt>
<dd><p>JSON representation of this DataArray.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.fraction_complete">
<span class="sig-name descname"><span class="pre">fraction_complete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.fraction_complete" title="Permalink to this definition"></a></dt>
<dd><p>Get the fraction of this array which has data in it.</p>
<p>Or more specifically, the fraction of the latest point in the array
where we have touched it.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: fraction of array which is complete, from 0.0 to 1.0</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qcodespp.data.data_array.DataArray.return_subset">
<span class="sig-name descname"><span class="pre">return_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qcodespp.data.data_array.DataArray.return_subset" title="Permalink to this definition"></a></dt>
<dd><p>Return a subset of this DataArray.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>indices (sequence): Indices to select from the array.</dt><dd><p>If this is a single index, it will return a scalar.
If this is a sequence, it will return a new DataArray
with the same metadata as this one, but with the
selected data.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>DataArray or scalar: The selected data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="qcodespp.data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../data_set/index.html" class="btn btn-neutral float-right" title="qcodespp.data.data_set" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, qcodes++.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>